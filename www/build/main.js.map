{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/home/home.ts","../../src/pages/add-place/add-place.ts","../../src/pages/set-location/set-location.ts","../../src/pages/place/place.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/models/place.ts","../../src/app/app.component.ts","../../src/models/location.ts","../../src/services/places.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 124;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 124\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 165;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 165\n// module chunks = 0","import { Place } from '../../models/place';\nimport { Component, OnInit } from '@angular/core';\nimport { ModalController } from 'ionic-angular';\nimport { AddPlacePage } from '../add-place/add-place';\nimport { PlacesService } from '../../services/places';\nimport { PlacePage } from '../place/place';\n\n@Component({\n    selector: 'page-home',\n    templateUrl: 'home.html'\n})\nexport class HomePage implements OnInit {\n    addPlacePage = AddPlacePage;\n    places: Place[] = [];\n\n    constructor(\n        private modalCtrl: ModalController,\n        private placesService: PlacesService\n    ) {}\n\n    ngOnInit() {\n        this.placesService\n            .fetchPlaces()\n            .then((places: Place[]) => (this.places = places));\n    }\n\n    ionViewWillEnter() {\n        this.places = this.placesService.loadPlaces();\n    }\n\n    onOpenPlace(place: Place, index: number) {\n        const modal = this.modalCtrl.create(PlacePage, { place, index });\n        modal.present();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport {\n    LoadingController,\n    ModalController,\n    ToastController\n} from 'ionic-angular';\n\nimport { Location } from '../../models/location';\n\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { File, Entry, FileError } from '@ionic-native/file';\n\nimport { SetLocationPage } from '../set-location/set-location';\nimport { PlacesService } from '../../services/places';\n\ndeclare var cordova: any;\n\n@Component({\n    selector: 'page-add-place',\n    templateUrl: 'add-place.html'\n})\nexport class AddPlacePage {\n    location: Location = {\n        lat: 40.7624324,\n        lng: -73.9759827\n    };\n    locationIsSet = false;\n    imageUrl = '';\n\n    constructor(\n        private modalCtrl: ModalController,\n        private loadingCtrl: LoadingController,\n        private toastCtrl: ToastController,\n        private placesService: PlacesService,\n        private geolocation: Geolocation,\n        private camera: Camera,\n        private file: File\n    ) {}\n\n    onSubmit(form: NgForm) {\n        this.placesService.addPlace(\n            form.value.title,\n            form.value.description,\n            this.location,\n            this.imageUrl\n        );\n        form.reset();\n        this.location = {\n            lat: 40.7624324,\n            lng: -73.9759827\n        };\n        this.imageUrl = '';\n        this.locationIsSet = false;\n    }\n\n    onOpenMap() {\n        const modal = this.modalCtrl.create(SetLocationPage, {\n            location: this.location,\n            isSet: this.locationIsSet\n        });\n        modal.present();\n        modal.onDidDismiss(data => {\n            if (data) {\n                this.location = data.location;\n                this.locationIsSet = true;\n            }\n        });\n    }\n\n    onLocate() {\n        const loading = this.loadingCtrl.create({\n            content: 'Getting your location...'\n        });\n        loading.present();\n\n        this.geolocation\n            .getCurrentPosition()\n            .then(resp => {\n                loading.dismiss();\n                this.location.lat = resp.coords.latitude;\n                this.location.lng = resp.coords.longitude;\n                this.locationIsSet = true;\n            })\n            .catch(error => {\n                loading.dismiss();\n                const toast = this.toastCtrl.create({\n                    message: 'could not get location, please pick it manually.',\n                    duration: 2500\n                });\n                toast.present();\n            });\n    }\n\n    onTakePhoto() {\n        const options: CameraOptions = {\n            quality: 100,\n            encodingType: this.camera.EncodingType.JPEG,\n            mediaType: this.camera.MediaType.PICTURE,\n            correctOrientation: true\n        };\n        this.camera.getPicture(options).then(\n            imageData => {\n                const currentName = imageData.replace(/^.*[\\\\\\/]/, '');\n                const path = imageData.replace(/[^\\/]*$/, '');\n                const newFileName = new Date().getUTCMilliseconds() + '.jpg';\n                this.file\n                    .moveFile(\n                        path,\n                        currentName,\n                        cordova.file.dataDirectory,\n                        newFileName\n                    )\n                    .then((data: Entry) => {\n                        this.imageUrl = data.nativeURL;\n                        this.camera.cleanup();\n                    })\n                    .catch((err: FileError) => {\n                        this.imageUrl = '';\n                        const toast = this.toastCtrl.create({\n                            message:\n                                'Could not save the image. Pleae try again.',\n                            duration: 2500\n                        });\n                        toast.present();\n                        this.camera.cleanup();\n                    });\n                this.imageUrl = imageData;\n            },\n            err => {\n                const toast = this.toastCtrl.create({\n                    message: 'Could not take the image. Pleae try again.',\n                    duration: 2500\n                });\n                toast.present();\n            }\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-place/add-place.ts","import { Component } from '@angular/core';\nimport { NavParams, ViewController } from 'ionic-angular';\nimport { Location } from '../../models/location';\n\n@Component({\n    selector: 'page-set-location',\n    templateUrl: 'set-location.html'\n})\nexport class SetLocationPage {\n    location: Location;\n    marker: Location;\n\n    constructor(\n        private navParams: NavParams,\n        private viewCtrl: ViewController\n    ) {\n        this.location = this.navParams.get('location');\n        this.marker = this.navParams.get('isSet') ? this.location : null;\n    }\n\n    onSetMarker(event: any) {\n        this.marker = new Location(event.coords.lat, event.coords.lng);\n    }\n\n    onConfirm() {\n        this.viewCtrl.dismiss({ location: this.marker });\n    }\n\n    onAbort() {\n        this.viewCtrl.dismiss();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/set-location/set-location.ts","import { Component } from '@angular/core';\nimport { NavParams, ViewController } from 'ionic-angular';\n\nimport { Place } from '../../models/place';\nimport { PlacesService } from '../../services/places';\n\n@Component({\n    selector: 'page-place',\n    templateUrl: 'place.html'\n})\nexport class PlacePage {\n    place: Place;\n    index: number;\n\n    constructor(\n        public navParams: NavParams,\n        private viewCtrl: ViewController,\n        private placesService: PlacesService\n    ) {\n        this.place = this.navParams.get('place');\n        this.index = this.navParams.get('index');\n    }\n\n    onLeave() {\n        this.viewCtrl.dismiss();\n    }\n\n    onDelete() {\n        this.placesService.deletePlace(this.index);\n        this.onLeave();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/place/place.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { ErrorHandler, NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { IonicStorageModule } from '@ionic/storage';\n\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { Camera } from '@ionic-native/camera';\nimport { File } from '@ionic-native/file';\n\nimport { AgmCoreModule } from '@agm/core';\n\nimport { PlacesService } from '../services/places';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { AddPlacePage } from '../pages/add-place/add-place';\nimport { PlacePage } from '../pages/place/place';\nimport { SetLocationPage } from '../pages/set-location/set-location';\n\n@NgModule({\n    declarations: [MyApp, HomePage, AddPlacePage, PlacePage, SetLocationPage],\n    imports: [\n        BrowserModule,\n        IonicModule.forRoot(MyApp),\n        IonicStorageModule.forRoot(),\n        AgmCoreModule.forRoot({\n            apiKey: 'AIzaSyB4BuxXgtUV3TOgn_Iip07jG3hMDa5yCqA'\n        })\n    ],\n    bootstrap: [IonicApp],\n    entryComponents: [\n        MyApp,\n        HomePage,\n        AddPlacePage,\n        PlacePage,\n        SetLocationPage\n    ],\n    providers: [\n        Geolocation,\n        Camera,\n        File,\n        PlacesService,\n        StatusBar,\n        SplashScreen,\n        { provide: ErrorHandler, useClass: IonicErrorHandler }\n    ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Location } from './location';\n\nexport class Place {\n    constructor(\n        public title: string,\n        public description: string,\n        public location: Location,\n        public imageUrl: string\n    ) {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/place.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = HomePage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export class Location {\n    constructor(public lat: number, public lng: number) {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/location.ts","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { File } from '@ionic-native/file';\n\nimport { Place } from '../models/place';\nimport { Location } from '../models/location';\n\ndeclare var cordova: any;\n\n@Injectable()\nexport class PlacesService {\n    private places: Place[] = [];\n\n    constructor(private storage: Storage, private file: File) {}\n\n    addPlace(\n        title: string,\n        description: string,\n        location: Location,\n        imageUrl: string\n    ) {\n        const place = new Place(title, description, location, imageUrl);\n        this.places.push(place);\n        this.storage\n            .set('places', this.places)\n            .then()\n            .catch(err => {\n                this.places.splice(this.places.indexOf(place), 1);\n            });\n    }\n\n    loadPlaces() {\n        return this.places.slice();\n    }\n\n    fetchPlaces() {\n        return this.storage\n            .get('places')\n            .then((places: Place[]) => {\n                this.places = places != null ? places : [];\n                return this.places.slice();\n            })\n            .catch();\n    }\n\n    deletePlace(index: number) {\n        const place = this.places[index];\n        this.places.splice(index, 1);\n        this.storage\n            .set('places', this.places)\n            .then(() => {\n                this.removeFile(place);\n            })\n            .catch();\n    }\n\n    private removeFile(place: Place) {\n        const currentName = place.imageUrl.replace(/^.*[\\\\\\/]/, '');\n        this.file\n            .removeFile(cordova.file.dataDirectory, currentName)\n            .then()\n            .catch(() => {\n                this.addPlace(\n                    place.title,\n                    place.description,\n                    place.location,\n                    place.imageUrl\n                );\n            });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/places.ts"],"sourceRoot":""}